//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:2.0.50727.3082
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System;


namespace GUPdotNET
{
	
	
	public partial class MainWindow : Gtk.Window
	{
		private bool _SilentCheck = false;
		public MainWindow(bool blnSilentCheck) :  base(Gtk.WindowType.Toplevel)
		{
			_SilentCheck = blnSilentCheck;
			this.Build();
			if(_SilentCheck)
				this.Visible = false;
			else
				this.Visible = true;
			
			this.ShowAll();
		}
		
		protected virtual void OnBtnCheckNowClicked (object sender, System.EventArgs e)
		{
		}
		
		
		protected virtual void OnbtnCloseClicked (object sender, System.EventArgs e)
		{
			Gtk.Application.Quit();
		}
		
		
		protected virtual void OnCbxAutoUpdateToggled (object sender, System.EventArgs e)
		{
			Common.Option.AutoUpdate = cbxAutoUpdate.Active;
		}
		
		
		protected virtual void OnCboUpdateTimeTypeChanged (object sender, System.EventArgs e)
		{
			Common.Option.UpdateTime = cboUpdateTimeType.ActiveText;
		}
		
		
		protected virtual void OnBtnAboutClicked (object sender, System.EventArgs e)
		{
			btnAbout.Relief = Gtk.ReliefStyle.None;
			btnAbout.State = Gtk.StateType.Normal;
			btnAbout.ShowNow();
			try
			{
				System.Reflection.Assembly asm = System.Reflection.Assembly.GetExecutingAssembly();
				Gtk.AboutDialog ad = new Gtk.AboutDialog();
				ad.Title = "About GUPdotNET";
				ad.ProgramName = "GUPdotNET";
				ad.Comments ="General Purpose Update program for Mono/Gtk#.";
				ad.License = GUPdotNET.Const.License;
				ad.Authors = new String[]{"Andrew York <goontools@brdstudio.net>"};
				ad.Version = " " + asm.GetName().Version.Major.ToString() + "." + asm.GetName().Version.Minor.ToString() + " alpha";
				ad.Logo = Gdk.Pixbuf.LoadFromResource("update_large.png");
				ad.Icon = Gdk.Pixbuf.LoadFromResource("update_small.png");
				ad.AllowShrink = true;
				ad.AllowGrow = true;
				ad.Copyright = "GoonTools 2009";
				ad.HasSeparator = true;
				ad.Modal = true;
				ad.BorderWidth = 8;
				ad.WidthRequest = 350;
//				ad.HeightRequest = 300;
				ad.Website = "http://code.google.com/p/goontools/wiki/GUPdotNet";
				ad.WebsiteLabel = "GUPdotNET Web Site";
				ad.Run();
				
				btnAbout.Relief = Gtk.ReliefStyle.None;
				btnAbout.State = Gtk.StateType.Normal;
				btnAbout.ShowNow();
				ad.Destroy();
			}
			catch(Exception ex)
			{
				Common.HandleError(ex);
			}
		}
		
		
		protected virtual void OnBtnAboutEntered (object sender, System.EventArgs e)
		{
			btnAbout.State = Gtk.StateType.Normal;
			btnAbout.ShowNow();
		}
		
		
		protected virtual void OnBtnAboutPressed (object sender, System.EventArgs e)
		{
			btnAbout.Relief = Gtk.ReliefStyle.None;
			btnAbout.State = Gtk.StateType.Normal;
			btnAbout.ShowNow();
		}
		
		
		protected virtual void OnBtnAboutActivated (object sender, System.EventArgs e)
		{
			btnAbout.Relief = Gtk.ReliefStyle.None;
			btnAbout.State = Gtk.StateType.Normal;
			btnAbout.ShowNow();
		}
		
		
		protected virtual void OnBtnAboutReleased (object sender, System.EventArgs e)
		{
			btnAbout.Relief = Gtk.ReliefStyle.None;
			btnAbout.State = Gtk.StateType.Normal;
			btnAbout.ShowNow();
		}
		
		
		protected virtual void OnDeleteEvent (object o, Gtk.DeleteEventArgs args)
		{
			if(!_SilentCheck)
				Common.SaveOptions();
			
			Gtk.Application.Quit();
		}

	}
}
